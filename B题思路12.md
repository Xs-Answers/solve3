# 一.假设

1.假设2050年已经在GEO建设好了可用火箭发射基地

2.只考虑能耗成本，不考虑维护升级成本

# 二.三种运输方式及其成本

火箭的运输效率为x吨/次,火箭质量为m

## 1.太空电梯 + 摆渡火箭循环

$n_{t}$：第t年摆渡火箭的运输次数.计算公式为：

$$
n_{1,t} = \left\lceil \frac{x_{1,t}}{x} \right\rceil \quad \text{（进一取整）}
$$



- ### 运输方式：

  电梯用电力（太阳能）将货物送到 GEO，摆渡火箭负责 GEO ↔ 月面运输，火箭永不再入地球大气，维护成本低，周转快。

 - ### 能耗：

   设 \( E_{1t} \) 为该方式第 \(t\) 年运输总能耗，\( e_1 \) 为火箭每吨有效载荷（含火箭自重）往返消耗的能量。则有：

\[
E_{1t} = 3\times e_1 \times\left( x_{1,t} + m \times n_{1,t} \right)
\]
​       其中\( e_1 \)：摆渡火箭每吨有效载荷（含火箭自重）往返消耗的能量/吨）
- ### 运输效率

​      $x_{1,t}$：第 $t$ 期电梯上行的货物量。（电梯容量：$x_{E,t} \le C_E$（电梯总运力上限））

##  2.火箭运输直接回地表

 $n_{2i,t}$：第 $t$ 年该模式的航班次数。

 - ### 能耗：
\[
E_{2t} = \sum_{i=1}^{10} \big[ e_{2i} \times (x + m) \times n_{2i,t} \big]
\]
  其中 \( e_{2i} \)为在第 \(i\) 个基地发射时，火箭每吨有效载荷（含火箭自重）往返消耗的能量（单位：能量单位/吨）。

- ### 运输效率：
  
   $x_{2,t}$：第 $t$ 期在所有发射基地运输的的货物量。
  
  则公式为：
  \[
  x_{2,t} = x \times n_{2,t}
  \]

## 3.火箭从地面出发+从太空电梯回来

 $n_{3i,t}$：第 $t$ 年该模式的航班次数。\[n_{3,t} = \sum_{i=1}^{10} n_{3i,t}\]

 - ### 能耗：
\[
E_{3t} = \sum_{i=1}^{10} \big[ e_{3i} \times (x + m) \times n_{3i,t} \big]
\]
  其中 \( e_{3i} \)为在第 \(i\) 个基地发射时，火箭**每吨**有效载荷（含火箭自重）往返消耗的能量（单位：能量单位/吨）。
- ### 运输效率：

  $x_{3,t}$：第 $t$ 期发射基地运输的的货物量。
公式

\[
x_{3,t} = x \times n_{3,t}
\]

# 三.问题一

## 目标函数

\[
\min \; \big(E_{norm} + \alpha T_{norm} \big)
\]
其中 \( \alpha \) 为惩罚系数 \( \alpha > 0\) .

\( T \) 为总的时间 ， \( T = \max\{t\} \).
`E是总能耗，E= ∑_{t=1}^{T} (E_{1t} + E_{2t} + E_{3t})`

\[
T_{\text{norm}} = \frac{T}{\text{max}(T)}
\]
\[
E_{\text{norm}} = \frac{E}{\text{max}({E})}
\]

## 约束条件

1.运输所有货物：
\[
\sum_{t=1}^{T} (x_{1,t}\times3 + x_{2,t} + x_{3,t}) \geq 1 \times 10^8
\]

2.每个地面发射站的总发射量限制：
\[
n_{2i,t} + n_{3i,t} \le n_{i,t}
\]
其中\(n_i \)是每年发射站i的最大发射数量



3.电梯上行容量（GEO承载上限）：
$$
0 \le x_{1,t} \le C_E
$$
4.方案三的火箭经由太空电梯运回限制：

\[
n_{3,t} \le \left\lfloor \frac{C_E}{m} \right\rfloor\times3
\]

## 考虑技术增长
1. **火箭载重**：随着科技进步，你可以设置一个年增长率（如 `g_r`），使得每年火箭的有效载荷（`x`）逐年增长。例如：
   \[
   x_{t} = x_0 \times (1 + g_r)^{t-1}
   \]
   其中，`x_0` 是初始载重，`g_r` 是增长率，`t` 是年份。
   
   
   
2. **发射基地的发射次数**：同样，可以给每个基地设定一个发射次数的年增长率（如 `g_f`），每年基于前一年最大发射次数进行调整。例如：
   \[
   n_{i,t} = n_{i,0} \times (1 + g_{f_i})^{t-1}
   \]
   其中，`n_{i,0}` 是基地的初始最大发射次数。
   
   (2025-341,2024-273,2023-234,2022-193,2021-160,2020-124,平均增长率`g_f`=0.2)
   
   # 四.问题二
   
   ## 1. **太空电梯的随机事件建模**
   
   ### 1.1 **太空电梯运输的失败模型**
   
   每台太空电梯在一年中的成功运输概率 $p$ 服从一个 Beta 分布。假设峰值成功运输概率为 0.8，Beta 分布的参数可以根据实际需要设定。例如：
   $$
   p \sim \text{Beta}(\alpha, \beta)
   $$
   其中，$\alpha$ 和 $\beta$ 是 Beta 分布的参数，我们可以设置使得成功概率的均值为 0.8，标准差较小。
   
   - 设定 $\alpha = 2.4$, $\beta = 8$，这样的 Beta 分布会将大部分概率集中在 0.8 附近。
   
   ### 1.2 **太空电梯每年运输量的计算**
   
   每台太空电梯的运输量 $x_{1,t}$ 受到成功运输概率 $p$ 的影响。因此，太空电梯的实际运输量 $x_{1,t}^p$ 是原始运输量 $x_{1,t}$ 和随机变量 $p$ 的乘积：
   $$
   x_{1,t}^p = x_{1,t} \times p
   $$
   那么，对于所有三台电梯的总运输量，记作 $x_{total,t}$，可以表示为：
   $$
   x_{total,t} = 3 \times x_{1,t}^p = 3 \times x_{1,t} \times p
   $$
   
   ### 1.3 **Monte Carlo模拟**
   
   1. 对每次模拟（例如1000次），从Beta分布中随机抽取每台太空电梯的成功运输概率 $p$。
   2. 计算每年三台电梯的总运输量 $x_{total,t}$。
   3. 记录每次模拟的运输量，并计算运输量的期望值、标准差等统计量。
   
   ## 2. **火箭发射的随机事件建模**
   
   ### 2.1. **火箭运输方式二（直接发射到月球）**
   
   在运输方式二中，火箭从地面直接发射到月球。每个基地的成功发射次数 $n_{2i,t}$ 可以按以下方式模拟：
   
   - 每个基地的成功发射概率 $p_{2i,t}$ 可以按照之前提到的Beta分布生成：
     $$
     p_{2i,t} \sim \text{Beta}(\alpha_i, \beta_i)
     $$
   
   - 然后，火箭发射成功的数量是：
     $$
     n_{2i,t}^{\text{actual}} = n_{2i,t} \times p_{2i,t}
     $$
     这里，$n_{2i,t}$ 是第 $t$ 年计划的发射次数，$p_{2i,t}$ 是第 $i$ 个基地的成功发射概率。
   
   ### 2.2. **火箭运输方式三（火箭通过太空电梯回运）**
   
   在运输方式三中，火箭首先从地面发射到太空电梯的轨道（GEO），然后通过电梯运输到月球。每个基地的发射成功次数 $n_{3i,t}$ 同样也可以按以下方式模拟：
   
   - 每个基地的成功发射概率 $p_{3i,t}$ 可以单独从Beta分布中生成：
     $$
     p_{3i,t} \sim \text{Beta}(\alpha_{i}, \beta_{i})
     $$
   
   - 然后，火箭发射成功的数量是：
     $$
     n_{3i,t}^{\text{actual}} = n_{3i,t} \times p_{3i,t}
     $$
     这里，$n_{3i,t}$ 是第 $t$ 年计划的发射次数，$p_{3i,t}$ 是第 $i$ 个基地的成功发射概率。
   
   ### 2.3. **总的实际发射成功次数**
   
   每个基地的实际发射成功次数 $n_{i,t}^{\text{actual}}$ 是两个运输方式的实际发射成功次数之和：
   $$
   n_{i,t}^{\text{actual}} = n_{2i,t}^{\text{actual}} + n_{3i,t}^{\text{actual}}
   $$
   具体地，代入公式：
   $$
   n_{i,t}^{\text{actual}} = n_{2i,t} \times p_{2i,t} + n_{3i,t} \times p_{3i,t}
   $$
   
   ## 3. **计算运输量**
   
   每年总的运输量 $x_{total,t}$ 依赖于两个因素：电梯运输量和火箭运输量。
   
   - 电梯的运输量 $x_{total1,t}$：
     $$
     x_{total1,t} = 3 \times x_{1,t} \times p_{1,t}
     $$
     其中，$x_{1,t}$ 是每台电梯的运输量，$p_{1,t}$ 是电梯成功运输的概率。
   
   - 火箭的运输量 $x_{total2,t}$ 和 $x_{total3,t}$ 分别为：
     $$
     x_{total2,t} = x \times n_{2,t}^{\text{actual}} = x \times \sum_{i=1}^{10} n_{2i,t} \times p_{2i,t}
     $$
   
     $$
     x_{total3,t} = x \times n_{3,t}^{\text{actual}} = x \times \sum_{i=1}^{10} n_{3i,t} \times p_{3i,t}
     $$
   
   总的运输量是电梯和两种火箭运输量的和：
   $$
   x_{total,t} = x_{total1,t} + x_{total2,t} + x_{total3,t}
   $$
   
   ## 4. **Monte Carlo模拟**
   
   ### 4.1. **初始化参数**：
   
   ​    设置电梯和火箭的基本参数，如电梯最大运力 $C_E$、火箭最大载荷 $x$、每个发射站的最大发射次数等。
   
   ### 4.2 **模拟过程**：
   
   ​    对每次Monte Carlo模拟，从 **Beta分布** 中随机抽取电梯的成功运输概率 $p$ 和每个火箭发射站的成功发射概率 $ p_{i,t}$。
   ​    计算每台电梯的实际运输量 $x_{1,t}^p = x_{1,t} \times p$，以及每个基地的成功发射次数 $n_{2i,t}^p = n_{2i,t} \times p_{2i,t}$ 和 $n_{3i,t}^p = n_{3i,t} \times p_{3i,t}$。
   ​    计算每年总的运输量 $x_{total,t}$。
   
   #### 4.3. **统计结果**：
   
   ​    计算每次模拟的总能耗 $E[E]$ 和总运输时间 $E[T]$。
   ​    计算每次模拟中运输时间的方差 $\text{Var}(T)$。
   
   ## 5. **目标函数**
   
   将目标函数修改为：
   $$
   \min \left( E[E] + \alpha E[T] + \lambda \cdot \text{Var}(T) \right)
   $$
   其中：
   
   - $E[E]$ 是 **总能耗的期望值**（基于 Monte Carlo 模拟）。
   - $E[T]$ 是 **总运输时间的期望值**（基于 Monte Carlo 模拟）。
   - $\text{Var}(T)$ 是 **运输时间的方差**，表示运输时间的不确定性（波动性）。
   - $\lambda$ 是 **时间波动的惩罚系数**，用来控制对不确定性的容忍度。
   - $ \alpha $ 是 **运输时间的权重系数**，用于平衡能耗和时间之间的优先级。
